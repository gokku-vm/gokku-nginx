#!/bin/bash
cat << EOF
Nginx plugin for Gokku

Service Management:
  gokku nginx:info <service>      Show service information
  gokku nginx:logs <service>       Show service logs
  gokku nginx:reload <service>     Reload nginx configuration
  gokku nginx:status <service>     Show nginx status
  gokku nginx:test <service>       Test nginx configuration
  gokku nginx:config <service>      Show nginx configuration
  gokku nginx:restart <service>    Restart nginx service

Domain Management:
  gokku nginx:add-domain <service> <app> <domain>     Add domain for app
  gokku nginx:remove-domain <service> <app>           Remove domain for app
  gokku nginx:list-domains <service>                  List all configured domains
  gokku nginx:get-domain <service> <app>              Get domain for app

Upstream Management:
  gokku nginx:add-upstream <service> <app>            Add upstream for app
  gokku nginx:update-upstream <service> <app> [type]  Update upstream with current containers
  gokku nginx:remove-upstream <service> <app>         Remove upstream for app

Location Management:
  gokku nginx:add-location <service> <app> <path> <domain>     Add location/path routing
  gokku nginx:remove-location <service> <app> <path> <domain>   Remove location/path routing
  gokku nginx:list-locations <service> <domain>                List all locations for domain

IP Denial Management:
  gokku nginx:add-deny-ip <service> <ip>              Add IP or CIDR to deny list
  gokku nginx:remove-deny-ip <service> [ip]           Remove IP from deny list (or all if no IP)
  gokku nginx:list-deny-ips <service>                 List all denied IPs

Examples:
  # Service management
  gokku nginx:info nginx-lb
  gokku nginx:reload nginx-lb
  gokku nginx:test nginx-lb

  # Domain management
  gokku nginx:add-domain nginx-lb api api.example.com
  gokku nginx:list-domains nginx-lb
  gokku nginx:remove-domain nginx-lb api

  # Upstream management
  gokku nginx:add-upstream nginx-lb api
  gokku nginx:update-upstream nginx-lb api web
  gokku nginx:remove-upstream nginx-lb api

  # Location management
  gokku nginx:add-location nginx-lb user-service /users api.example.com
  gokku nginx:list-locations nginx-lb api.example.com
  gokku nginx:remove-location nginx-lb user-service /users api.example.com

  # IP denial management
  gokku nginx:add-deny-ip nginx-lb 192.168.1.100
  gokku nginx:add-deny-ip nginx-lb 10.0.0.0/8
  gokku nginx:list-deny-ips nginx-lb
  gokku nginx:remove-deny-ip nginx-lb 192.168.1.100

Configuration:
  Service directory: /opt/gokku/services/<service>/
  Main config: /opt/gokku/services/<service>/nginx.conf
  Site configs: /opt/gokku/services/<service>/conf.d/
  SSL certificates: /opt/gokku/services/<service>/ssl/
  App domains: /opt/gokku/apps/<app>/CNAME

For more information, visit: https://github.com/thadeu/gokku-nginx
EOF
